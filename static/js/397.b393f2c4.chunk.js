"use strict";(self.webpackChunktest_tweet_card=self.webpackChunktest_tweet_card||[]).push([[397],{4795:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t=r(3433),a=r(5861),s=r(9439),c=r(4687),o=r.n(c),i=r(1413),l=r(4942),u=r(4925),d=r(8182),f="Button_button__wiIYs",p="Button_isFollowing__KyB3w",v=r(184),h=["isFollowing","children"],x=function(e){var n=e.isFollowing,r=void 0!==n&&n,t=e.children,a=(0,u.Z)(e,h);return(0,v.jsx)("button",(0,i.Z)((0,i.Z)({className:(0,d.Z)(f,(0,l.Z)({},p,r)),type:"button"},a),{},{children:t}))},w={card:"CardItem_card__9jGsV",logo:"CardItem_logo__NuKzF",containerWrapper:"CardItem_containerWrapper__3rBI7",rectangle:"CardItem_rectangle__K7XPT",outerCircle:"CardItem_outerCircle__FOnX8",innerCircle:"CardItem_innerCircle__Oq1iy",avatar:"CardItem_avatar__72xX9",text:"CardItem_text__PQWJQ"},m=r.p+"static/media/image.b3d9942b3f9d5dad1ff0.png",_=r(2791);var j=r.p+"static/media/logo.e917114d7945c04c85a8946a331d28b6.svg",b=function(e){var n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")},g=function(e){var n=e.twiUser,r=e.handleFollowClick,t=n.followers,c=n.user,l=n.tweets,u=n.avatar,d=n.isFollowed,f=(0,_.useState)(!1),p=(0,s.Z)(f,2),h=p[0],g=p[1],k=(0,_.useRef)(null);(0,_.useEffect)((function(){k.current&&k.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),[n]);var Z=function(){var e=(0,a.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),a=(0,i.Z)((0,i.Z)({},n),{},{followers:d?t-1:t+1,isFollowed:!d}),e.prev=2,e.next=5,r(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:w.card,ref:k,children:[(0,v.jsx)("img",{className:w.logo,src:j,alt:"logo"}),(0,v.jsx)("img",{src:m,alt:"decoration"}),(0,v.jsxs)("div",{className:w.containerWrapper,children:[(0,v.jsx)("div",{className:w.rectangle}),(0,v.jsx)("div",{className:w.outerCircle,children:(0,v.jsx)("div",{className:w.innerCircle,children:(0,v.jsx)("img",{className:w.avatar,src:u,alt:c})})})]}),(0,v.jsxs)("p",{className:w.text,children:[(0,v.jsx)("span",{className:w.number,children:b(l)}),(0,v.jsx)("span",{children:" tweets"})]}),(0,v.jsxs)("p",{className:w.text,children:[(0,v.jsx)("span",{className:w.number,children:b(t)}),(0,v.jsx)("span",{children:" followers"})]}),(0,v.jsx)(x,{onClick:Z,name:"follow",isFollowing:d,disabled:h,children:d?"following":"follow"})]})},k="Cardlist_list__KeUNs",Z=function(e){var n=e.users,r=e.handleFollowClick;return(0,v.jsx)("ul",{className:k,children:n.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(g,{twiUser:e,handleFollowClick:r})},e.id)}))})},C="Container_section__Lfj+R",N="Container_container__VVOCq",F=function(e){var n=e.children;return(0,v.jsx)("div",{className:C,children:(0,v.jsx)("div",{className:N,children:n})})},I=r(9645),S=r(1243);S.Z.defaults.baseURL="https://642a976db11efeb7599cfede.mockapi.io";var y=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.get("/users");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.Z)(o().mark((function e(){var n,r,t,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,e.next=3,S.Z.get("/users?page=".concat(n,"&limit=3"));case 3:return r=e.sent,t=r.data,a=t.map((function(e){return e.follow=!1,e})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.Z)(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.put("/users/".concat(n.id),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E="all",L="followed",M="notFollowed",U=[{label:"All",value:E},{label:"Followed",value:L},{label:"Not Followed",value:M}],K="DropDownMenu_container__jGhBZ",O="DropDownMenu_button__krv8B",P="DropDownMenu_wrapper__CPLzw",R="DropDownMenu_option__h1XNg",V="DropDownMenu_label__LO+I9",W=function(e){var n,r=e.options,t=e.value,a=e.onSelect,c=(0,_.useState)(!1),o=(0,s.Z)(c,2),i=o[0],l=o[1],u=(0,_.useRef)(null),d=function(e){u.current&&!u.current.contains(e.target)&&l(!1)};return(0,_.useEffect)((function(){return document.addEventListener("click",d,!0),function(){document.removeEventListener("click",d,!0)}}),[]),(0,v.jsxs)("div",{className:K,ref:u,children:[(0,v.jsxs)("button",{className:O,onClick:function(){return l(!i)},children:["Select users to show:"," ",(0,v.jsx)("span",{className:V,children:null===(n=r.find((function(e){return e.value===t})))||void 0===n?void 0:n.label})]}),i&&(0,v.jsx)("div",{className:P,children:r.map((function(e){return(0,v.jsx)("a",{href:"# ",className:R,onClick:function(){return function(e){a(e),l(!1)}(e.value)},children:e.label},e.value)}))})]})},X=r(7689);var G=function(){var e=(0,X.TH)(),n=(0,X.s0)(),r=(0,_.useState)([]),c=(0,s.Z)(r,2),i=c[0],l=c[1],u=(0,_.useState)(0),d=(0,s.Z)(u,2),f=d[0],p=d[1],h=(0,_.useState)(!1),w=(0,s.Z)(h,2),m=w[0],j=w[1],b=(0,_.useState)(null),g=(0,s.Z)(b,2),k=g[0],C=g[1],N=(0,_.useState)(1),S=(0,s.Z)(N,2),K=S[0],O=S[1],P=(0,_.useState)(!0),R=(0,s.Z)(P,2),V=R[0],G=R[1],T=(0,_.useState)(E),q=(0,s.Z)(T,2),z=q[0],Q=q[1];(0,_.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,y();case 4:n=e.sent,p(n.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C(!0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,_.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,1===K&&j(!0),e.next=5,D(K);case 5:if(n=e.sent,1!==K){e.next=10;break}return l((0,t.Z)(n)),G(!0),e.abrupt("return");case 10:l((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(n))})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),C(e.t0),console.log(e.t0);case 17:return e.prev=17,j(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[K]),(0,_.useEffect)((function(){i.length===f&&G(!1)}),[i.length,f]);var A=function(){var e=(0,a.Z)(o().mark((function e(n){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(n);case 3:r=e.sent,-1!==(a=i.findIndex((function(e){return e.id===r.id})))&&((s=(0,t.Z)(i))[a]=r,l(s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),H=function(e,n){switch(n){case M:return e.filter((function(e){return!1===e.isFollowed}));case L:return e.filter((function(e){return!0===e.isFollowed}));default:return e}}(i,z);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(F,{children:[(0,v.jsx)(x,{type:"button",onClick:function(){var r,t;n(null!==(r=null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from)&&void 0!==r?r:"/")},children:"\u2b05\ufe0f Go back"}),(0,v.jsx)(W,{options:U,value:z,onSelect:function(e){Q(e)}})]}),(0,v.jsx)(F,{children:k?(0,v.jsx)("p",{children:k.message}):(0,v.jsx)(Z,{users:H,handleFollowClick:A})}),(0,v.jsx)(F,{children:V?(0,v.jsx)(x,{onClick:function(){O((function(e){return e+1}))},children:m?(0,v.jsx)(I.a,{}):"Load more"}):!m&&(0,v.jsx)(x,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"\u2b06\ufe0fUP\u2b06\ufe0f"})})]})}}}]);
//# sourceMappingURL=397.b393f2c4.chunk.js.map