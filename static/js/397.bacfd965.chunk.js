"use strict";(self.webpackChunktest_tweet_card=self.webpackChunktest_tweet_card||[]).push([[397],{4795:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(3433),a=t(5861),c=t(9439),s=t(4687),o=t.n(s),i=t(1413),l=t(4942),u=t(4925),d=t(8182),f="Button_button__wiIYs",p="Button_isFollowing__KyB3w",v=t(184),h=["isFollowing","children"],x=function(e){var n=e.isFollowing,t=void 0!==n&&n,r=e.children,a=(0,u.Z)(e,h);return(0,v.jsx)("button",(0,i.Z)((0,i.Z)({className:(0,d.Z)(f,(0,l.Z)({},p,t)),type:"button"},a),{},{children:r}))},w={card:"CardItem_card__9jGsV",logo:"CardItem_logo__NuKzF",containerWrapper:"CardItem_containerWrapper__3rBI7",rectangle:"CardItem_rectangle__K7XPT",outerCircle:"CardItem_outerCircle__FOnX8",innerCircle:"CardItem_innerCircle__Oq1iy",avatar:"CardItem_avatar__72xX9",text:"CardItem_text__PQWJQ"},m=t.p+"static/media/image.b3d9942b3f9d5dad1ff0.png",_=t(2791);var j=t.p+"static/media/logo.e917114d7945c04c85a8946a331d28b6.svg",g=function(e){var n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")},b=function(e){var n=e.twiUser,t=e.handleFollowClick,r=n.followers,s=n.user,l=n.tweets,u=n.avatar,d=n.isFollowed,f=(0,_.useState)(!1),p=(0,c.Z)(f,2),h=p[0],b=p[1],Z=function(){var e=(0,a.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),a=(0,i.Z)((0,i.Z)({},n),{},{followers:d?r-1:r+1,isFollowed:!d}),e.prev=2,e.next=5,t(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,b(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:w.card,children:[(0,v.jsx)("img",{className:w.logo,src:j,alt:"logo"}),(0,v.jsx)("img",{src:m,alt:"decoration"}),(0,v.jsxs)("div",{className:w.containerWrapper,children:[(0,v.jsx)("div",{className:w.rectangle}),(0,v.jsx)("div",{className:w.outerCircle,children:(0,v.jsx)("div",{className:w.innerCircle,children:(0,v.jsx)("img",{className:w.avatar,src:u,alt:s})})})]}),(0,v.jsxs)("p",{className:w.text,children:[(0,v.jsx)("span",{className:w.number,children:g(l)}),(0,v.jsx)("span",{children:" tweets"})]}),(0,v.jsxs)("p",{className:w.text,children:[(0,v.jsx)("span",{className:w.number,children:g(r)}),(0,v.jsx)("span",{children:" followers"})]}),(0,v.jsx)(x,{onClick:Z,name:"follow",isFollowing:d,disabled:h,children:d?"following":"follow"})]})},Z="Cardlist_list__KeUNs",k=function(e){var n=e.users,t=e.handleFollowClick;return(0,v.jsx)("ul",{className:Z,children:n.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(b,{twiUser:e,handleFollowClick:t})},e.id)}))})},C="Container_section__Lfj+R",N="Container_container__VVOCq",F=function(e){var n=e.children;return(0,v.jsx)("div",{className:C,children:(0,v.jsx)("div",{className:N,children:n})})},y=t(9645),S=t(1243);S.Z.defaults.baseURL="https://642a976db11efeb7599cfede.mockapi.io";var I=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.get("/users");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.Z)(o().mark((function e(){var n,t,r,a,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:1,e.next=3,S.Z.get("/users?page=".concat(n,"&limit=3"));case 3:return t=e.sent,r=t.data,a=r.map((function(e){return e.follow=!1,e})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.put("/users/".concat(n.id),n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E="all",L="followed",U="notFollowed",K=[{label:"All",value:E},{label:"Followed",value:L},{label:"Not Followed",value:U}],M="DropDownMenu_container__jGhBZ",P="DropDownMenu_button__krv8B",T="DropDownMenu_wrapper__CPLzw",W="DropDownMenu_option__h1XNg",X=function(e){var n,t=e.options,r=e.value,a=e.onSelect,s=(0,_.useState)(!1),o=(0,c.Z)(s,2),i=o[0],l=o[1],u=(0,_.useRef)(null),d=function(e){u.current&&!u.current.contains(e.target)&&l(!1)};return(0,_.useEffect)((function(){return document.addEventListener("click",d,!0),function(){document.removeEventListener("click",d,!0)}}),[]),(0,v.jsxs)("div",{className:M,ref:u,children:[(0,v.jsxs)("button",{className:P,onClick:function(){return l(!i)},children:["Select users to show:"," ",null===(n=t.find((function(e){return e.value===r})))||void 0===n?void 0:n.label]}),i&&(0,v.jsx)("div",{className:T,children:t.map((function(e){return(0,v.jsx)("a",{href:"# ",className:W,onClick:function(){return function(e){a(e),l(!1)}(e.value)},children:e.label},e.value)}))})]})},G=t(7689);var O=function(){var e=(0,G.TH)(),n=(0,G.s0)(),t=(0,_.useState)([]),s=(0,c.Z)(t,2),i=s[0],l=s[1],u=(0,_.useState)(0),d=(0,c.Z)(u,2),f=d[0],p=d[1],h=(0,_.useState)(!1),w=(0,c.Z)(h,2),m=w[0],j=w[1],g=(0,_.useState)(null),b=(0,c.Z)(g,2),Z=b[0],C=b[1],N=(0,_.useState)(1),S=(0,c.Z)(N,2),M=S[0],P=S[1],T=(0,_.useState)(!0),W=(0,c.Z)(T,2),O=W[0],R=W[1],V=(0,_.useState)(E),q=(0,c.Z)(V,2),z=q[0],H=q[1];(0,_.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,I();case 4:n=e.sent,p(n.length),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C(!0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,_.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,1===M&&j(!0),e.next=5,D(M);case 5:if(n=e.sent,1!==M){e.next=10;break}return l((0,r.Z)(n)),R(!0),e.abrupt("return");case 10:l((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),C(e.t0),console.log(e.t0);case 17:return e.prev=17,j(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,13,17,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[M]),(0,_.useEffect)((function(){i.length>=f&&R(!1)}),[i.length,f]),(0,_.useLayoutEffect)((function(){1!==M&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}));var Q=function(){var e=(0,a.Z)(o().mark((function e(n){var t,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(n);case 3:t=e.sent,-1!==(a=i.findIndex((function(e){return e.id===t.id})))&&((c=(0,r.Z)(i))[a]=t,l(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),A=function(e,n){switch(n){case U:return e.filter((function(e){return!1===e.isFollowed}));case L:return e.filter((function(e){return!0===e.isFollowed}));default:return e}}(i,z);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(F,{children:[(0,v.jsx)(x,{type:"button",onClick:function(){var t,r;n(null!==(t=null===e||void 0===e||null===(r=e.state)||void 0===r?void 0:r.from)&&void 0!==t?t:"/")},children:"\u2b05\ufe0f Go back"}),(0,v.jsx)(X,{options:K,value:z,onSelect:function(e){H(e)}})]}),(0,v.jsx)(F,{children:Z?(0,v.jsx)("p",{children:Z.message}):(0,v.jsx)(k,{users:A,handleFollowClick:Q})}),(0,v.jsx)(F,{children:O?(0,v.jsx)(x,{onClick:function(){P((function(e){return e+1}))},children:m?(0,v.jsx)(y.a,{}):"Load more"}):!m&&(0,v.jsx)(x,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"\u2b06\ufe0fUP\u2b06\ufe0f"})})]})}}}]);
//# sourceMappingURL=397.bacfd965.chunk.js.map